from fastapi import FastAPI
from chameleon.chameleon import Chameleon
import tempfile
from jinja2 import Environment, FileSystemLoader
import os
import base64
import json
import logging
from pydantic import BaseModel
from datetime import datetime


config = {
        "strings": True,
        "variables": True,
        "data-types": True,
        "functions": True,
        "comments": False,
        "spaces": True,
        "cases": True,
        "nishang": True,
        "backticks": False,
        "random-backticks": True,
        "backticks-list": False,
        "hex-ip": True,
        "random-type": 'r',
        "decimal": False,
        "base64": True,
        "tfn-values": True,
        "safe": True,
        "verbose": False
    }


chameleon = Chameleon(filename='in', outfile='out', config=config, fmap=None)
chameleon.obfuscate()
chameleon.write_file()